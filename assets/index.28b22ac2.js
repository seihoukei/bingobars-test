var Wt=Object.defineProperty;var Qt=(t,e,i)=>e in t?Wt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i;var Le=(t,e,i)=>(Qt(t,typeof e!="symbol"?e+"":e,i),i),ot=(t,e,i)=>{if(!e.has(t))throw TypeError("Cannot "+i)};var Re=(t,e,i)=>(ot(t,e,"read from private field"),i?i.call(t):e.get(t)),Be=(t,e,i)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,i)},ye=(t,e,i,n)=>(ot(t,e,"write to private field"),n?n.call(t,i):e.set(t,i),i);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const r of l.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function i(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerpolicy&&(l.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?l.credentials="include":s.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(s){if(s.ep)return;s.ep=!0;const l=i(s);fetch(s.href,l)}})();function q(){}function Kt(t){return t()}function ut(){return Object.create(null)}function he(t){t.forEach(Kt)}function st(t){return typeof t=="function"}function j(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function zt(t){return Object.keys(t).length===0}function Te(t){return t&&st(t.destroy)?t.destroy:q}function h(t,e){t.appendChild(e)}function O(t,e,i){t.insertBefore(e,i||null)}function w(t){t.parentNode&&t.parentNode.removeChild(t)}function ve(t,e){for(let i=0;i<t.length;i+=1)t[i]&&t[i].d(e)}function E(t){return document.createElement(t)}function V(t){return document.createTextNode(t)}function N(){return V(" ")}function fe(){return V("")}function me(t,e,i,n){return t.addEventListener(e,i,n),()=>t.removeEventListener(e,i,n)}function v(t,e,i){i==null?t.removeAttribute(e):t.getAttribute(e)!==i&&t.setAttribute(e,i)}function Xt(t){return Array.from(t.childNodes)}function ee(t,e){e=""+e,t.data!==e&&(t.data=e)}function D(t,e,i,n){i===null?t.style.removeProperty(e):t.style.setProperty(e,i,n?"important":"")}function R(t,e,i){t.classList[i?"add":"remove"](e)}function Ye(t,e){return new t(e)}let Fe;function He(t){Fe=t}function Ht(){if(!Fe)throw new Error("Function called outside component initialization");return Fe}function Oe(t){Ht().$$.on_mount.push(t)}function pe(t){Ht().$$.on_destroy.push(t)}function Ie(t,e){const i=t.$$.callbacks[e.type];i&&i.slice().forEach(n=>n.call(this,e))}const Ae=[],de=[];let qe=[];const it=[],Yt=Promise.resolve();let nt=!1;function Jt(){nt||(nt=!0,Yt.then(Ft))}function Je(t){qe.push(t)}function ge(t){it.push(t)}const xe=new Set;let Se=0;function Ft(){if(Se!==0)return;const t=Fe;do{try{for(;Se<Ae.length;){const e=Ae[Se];Se++,He(e),Zt(e.$$)}}catch(e){throw Ae.length=0,Se=0,e}for(He(null),Ae.length=0,Se=0;de.length;)de.pop()();for(let e=0;e<qe.length;e+=1){const i=qe[e];xe.has(i)||(xe.add(i),i())}qe.length=0}while(Ae.length);for(;it.length;)it.pop()();nt=!1,xe.clear(),He(t)}function Zt(t){if(t.fragment!==null){t.update(),he(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Je)}}function xt(t){const e=[],i=[];qe.forEach(n=>t.indexOf(n)===-1?e.push(n):i.push(n)),i.forEach(n=>n()),qe=e}const Xe=new Set;let Me;function ne(){Me={r:0,c:[],p:Me}}function se(){Me.r||he(Me.c),Me=Me.p}function C(t,e){t&&t.i&&(Xe.delete(t),t.i(e))}function k(t,e,i,n){if(t&&t.o){if(Xe.has(t))return;Xe.add(t),Me.c.push(()=>{Xe.delete(t),n&&(i&&t.d(1),n())}),t.o(e)}else n&&n()}function _e(t,e,i){const n=t.$$.props[e];n!==void 0&&(t.$$.bound[n]=i,i(t.$$.ctx[n]))}function x(t){t&&t.c()}function Y(t,e,i,n){const{fragment:s,after_update:l}=t.$$;s&&s.m(e,i),n||Je(()=>{const r=t.$$.on_mount.map(Kt).filter(st);t.$$.on_destroy?t.$$.on_destroy.push(...r):he(r),t.$$.on_mount=[]}),l.forEach(Je)}function J(t,e){const i=t.$$;i.fragment!==null&&(xt(i.after_update),he(i.on_destroy),i.fragment&&i.fragment.d(e),i.on_destroy=i.fragment=null,i.ctx=[])}function $t(t,e){t.$$.dirty[0]===-1&&(Ae.push(t),Jt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function K(t,e,i,n,s,l,r,o=[-1]){const c=Fe;He(t);const f=t.$$={fragment:null,ctx:[],props:l,update:q,not_equal:s,bound:ut(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:ut(),dirty:o,skip_bound:!1,root:e.target||c.$$.root};r&&r(f.root);let u=!1;if(f.ctx=i?i(t,e.props||{},(a,m,...d)=>{const g=d.length?d[0]:m;return f.ctx&&s(f.ctx[a],f.ctx[a]=g)&&(!f.skip_bound&&f.bound[a]&&f.bound[a](g),u&&$t(t,a)),m}):[],f.update(),u=!0,he(f.before_update),f.fragment=n?n(f.ctx):!1,e.target){if(e.hydrate){const a=Xt(e.target);f.fragment&&f.fragment.l(a),a.forEach(w)}else f.fragment&&f.fragment.c();e.intro&&C(t.$$.fragment),Y(t,e.target,e.anchor,e.customElement),Ft()}He(c)}class H{$destroy(){J(this,1),this.$destroy=q}$on(e,i){if(!st(i))return q;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(i),()=>{const s=n.indexOf(i);s!==-1&&n.splice(s,1)}}$set(e){this.$$set&&!zt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}class ft{static encode(e){const i=JSON.stringify(e);return btoa(i)}static decode(e){var i,n,s,l;if(!e)return null;try{const r=atob(e),o=JSON.parse(r);return o.person&&((n=(i=o.person).mood)!=null||(i.mood=50),(l=(s=o.person).speed)!=null||(s.speed=1)),o}catch(r){return console.log("Failed to load:"),console.log(r),null}}}const ct={NOW:"_executeNow",NEXT:"_executeNext",QUEUE:"_queue",ASYNC:"_executeAsync"};var be,Ve;class ei{constructor(e=null,i=null,n=[]){Be(this,be,null);Be(this,Ve,null);Le(this,"args",[]);Le(this,"callback",null);Le(this,"once",!1);if(e===null)throw new Error("Trigger can't have empty event");if(i===null)throw new Error("Trigger can't have empty callback");ye(this,be,e),this.callback=i,this.args=n}getEvent(){return Re(this,be)}setMode(e){if(!Object.values(A.MODES).includes(e))throw new Error(`Invalid trigger mode ${e}`);return ye(this,Ve,e),this}getMode(){return Re(this,Ve)}cancel(){A.cancelHandler(this),ye(this,be,null)}reattach(e=Re(this,be)){return A.cancelHandler(this),ye(this,be,e),A.attachHandler(this),this}execute(e){this.callback(...this.args,...e)}}be=new WeakMap,Ve=new WeakMap;const A=Object.assign(function(t,...e){A._processHandlers(A._mode,t,e)},{_handlers:new Map,_executing:!1,_executionQueue:[],MODES:ct,_mode:ct.NOW,_executeQueue(){if(this._executing)return;this._executing=!0;let t=null;for(;t=this._executionQueue.shift();){const[e,i]=t;e.execute(i)}this._executing=!1},_removeFromQueue(t){this._executionQueue=this._executionQueue.filter(e=>e.handler!==t)},_queue(t,e){this._executionQueue.push([t,e]),this._executeQueue()},_executeNext(t,e){this._executionQueue.unshift([t,e]),this._executeQueue()},_executeNow(t,e){t.execute(e)},_executeAsync(t,e){setTimeout(t.execute.bind(t,e),0)},_processHandlers(t,e,i){var s;const n=this._handlers.get(e);if(n)for(let l of n)l.once&&this.cancelHandler(l),this[(s=l.getMode())!=null?s:t](l,i)},attachHandler(t){var n;const e=t.getEvent(),i=(n=this._handlers.get(e))!=null?n:new Set;i.add(t),this._handlers.set(e,i)},cancelHandler(t){this._removeFromQueue(t);const e=t.getEvent(),i=this._handlers.get(e);i==null||i.delete(t)},on(t,e,...i){const n=new ei(t,e,i);return this.attachHandler(n),n},once(t,e,...i){const n=this.on(t,e,...i);return n.once=!0,n},now(t,...e){this._processHandlers(this.MODES.NOW,t,e)},next(t,...e){this._processHandlers(this.MODES.NEXT,t,e)},queue(t,...e){this._processHandlers(this.MODES.QUEUE,t,e)},async(t,...e){this._processHandlers(this.MODES.ASYNC,t,e)},createTrigger(...t){const e=function(...i){A(e,...t,...i)};return e},createTriggers(...t){const e={};return t.forEach(i=>e[i]=this.createTrigger()),e},ify(t,...e){let i=t;return e.forEach(n=>{const s=t[n].bind(t);if(typeof s!="function")throw new Error("Trigger can only triggerify functions");const l=function(...r){s.apply(this,r),A(l,...r)};t[n]=l}),i}});Object.defineProperty(A,"mode",{set(t){if(!Object.values(this.MODES).includes(t))throw new Error(`Invalid trigger mode ${t}`);this._mode=t},get(){return this._mode}});function ti(t,e,i){let{state:n=Object.create(null)}=e,{id:s=Math.random()}=e,{prefix:l="Little_Bars"}=e,{defaultState:r={}}=e,{autosaveInterval:o=1e4}=e;const c="_Autosave";function f(b=c){return`${l}_Save_${b}`}function u(b=c){const T=ft.encode(n);localStorage[f(b)]=T,A("game-saved",b)}function a(b=c){const T=localStorage[f(b)];m(),Object.assign(n,ft.decode(T)),A("game-loaded",b)}function m(){i(0,n=Object.create(null)),i(1,s=Math.random()),Object.assign(n,r),A("game-reset")}let d=null;function g(b){d&&clearInterval(d),d=setInterval(u,b)}Oe(()=>{a()}),pe(()=>{clearInterval(d)});const p=[];return Oe(()=>{p.push(A.on("command-save-game",b=>u(b))),p.push(A.on("command-load-game",b=>a(b))),p.push(A.on("command-reset-game",m))}),pe(()=>{p.forEach(b=>b.cancel())}),t.$$set=b=>{"state"in b&&i(0,n=b.state),"id"in b&&i(1,s=b.id),"prefix"in b&&i(2,l=b.prefix),"defaultState"in b&&i(3,r=b.defaultState),"autosaveInterval"in b&&i(4,o=b.autosaveInterval)},t.$$.update=()=>{t.$$.dirty&16&&g(o)},[n,s,l,r,o]}class ii extends H{constructor(e){super(),K(this,e,ti,null,j,{state:0,id:1,prefix:2,defaultState:3,autosaveInterval:4})}}function ni(t,e,i){let{state:n}=e,{name:s="A"}=e,{value:l=0}=e,{prestiges:r=0}=e,{prestigeStep:o=1}=e,{prestigeCost:c=1}=e,{delta:f=0}=e,{baseLimit:u=5}=e,{limit:a=u}=e,{limitMultiplier:m=2}=e,{autoPrestige:d=!1}=e,{timeSinceReset:g=0}=e,{seen:p=!1}=e;function b(L){!p||(i(3,g+=L),!(a<=0||l>=a)&&(i(0,l+=f*L),l>=a&&(i(0,l=a),A("value-capped",s),d&&T())))}function T(L=s){!p||L!==s||l<a||(i(0,l-=l*c),i(2,a*=m),i(1,r+=o),A("value-prestiged",L,o))}function _(L=s){!p||L!==s||(i(0,l=0),i(1,r=0),i(2,a=u),i(3,g=0),A("value-reset",L))}const M=[];return Oe(()=>{M.push(A.on("command-tick-step",b)),M.push(A.on("command-prestige-value",T)),M.push(A.on("command-reset-value",_))}),pe(()=>{M.forEach(L=>L.cancel())}),t.$$set=L=>{"state"in L&&i(4,n=L.state),"name"in L&&i(5,s=L.name),"value"in L&&i(0,l=L.value),"prestiges"in L&&i(1,r=L.prestiges),"prestigeStep"in L&&i(6,o=L.prestigeStep),"prestigeCost"in L&&i(7,c=L.prestigeCost),"delta"in L&&i(8,f=L.delta),"baseLimit"in L&&i(9,u=L.baseLimit),"limit"in L&&i(2,a=L.limit),"limitMultiplier"in L&&i(10,m=L.limitMultiplier),"autoPrestige"in L&&i(11,d=L.autoPrestige),"timeSinceReset"in L&&i(3,g=L.timeSinceReset),"seen"in L&&i(12,p=L.seen)},[l,r,a,g,n,s,o,c,f,u,m,d,p]}class si extends H{constructor(e){super(),K(this,e,ni,null,j,{state:4,name:5,value:0,prestiges:1,prestigeStep:6,prestigeCost:7,delta:8,baseLimit:9,limit:2,limitMultiplier:10,autoPrestige:11,timeSinceReset:3,seen:12})}}const ke=Object.freeze({A:{baseLimit:5,baseSpeed:1,baseLimitMultiplier:2,initialSeen:!0},B:{baseLimit:6,baseSpeed:1,baseLimitMultiplier:3},C:{baseLimit:7,baseSpeed:1,baseLimitMultiplier:4},AB:{baseLimit:25,baseSpeed:1,baseLimitMultiplier:2,speedFactors:["A","B"]},AC:{baseLimit:100,baseSpeed:1,baseLimitMultiplier:3,speedFactors:["A","C"]},BC:{baseLimit:250,baseSpeed:1,baseLimitMultiplier:4,speedFactors:["B","C"]},ABC:{baseLimit:1e4,baseSpeed:1,baseLimitMultiplier:5,speedFactors:["A","B","C"]}});function li(t){return typeof t=="string"?t:t<1e4?t.toFixed(2):t.toExponential(2)}function G(t,...e){var n;const i=[];for(let s=0;s<t.length;s++)i.push(t[s]),i.push(li((n=e[s])!=null?n:""));return i.join("")}G.settings={};var We;const ce=class{constructor(e,i){Be(this,We,null);Le(this,"text",null);ye(this,We,e),this.text=i}static impossible(){return new ce(()=>!1,G`Unattainable`)}static more(e,i){return new ce(n=>{var s;return n[e]>((s=n[i])!=null?s:i)},G`${e} > ${i}`)}static moreOrEqual(e,i){return new ce(n=>{var s;return n[e]>=((s=n[i])!=null?s:i)},G`${e} >= ${i}`)}static equal(e,i){return new ce(n=>{var s;return n[e]===((s=n[i])!=null?s:i)},G`${e} = ${i}`)}static unequal(e,i){return new ce(n=>{var s;return n[e]!==((s=n[i])!=null?s:i)},G`${e} â‰  ${i}`)}static lessOrEqual(e,i){return new ce(n=>{var s;return n[e]<=((s=n[i])!=null?s:i)},G`${e} <= ${i}`)}static less(e,i){return new ce(n=>{var s;return n[e]<((s=n[i])!=null?s:i)},G`${e} < ${i}`)}static around(e,i,n=ce.DEFAULT_MARGIN){return new ce(s=>{var l,r;return s[e]>=((l=s[i])!=null?l:i)-n&&s[e]<=((r=s[i])!=null?r:i)-n},G`|${e} - ${i}| <= ${n}`)}static range(e,i,n){return new ce(s=>{var l,r;return s[e]>=((l=s[i])!=null?l:i)&&s[e]<=((r=s[n])!=null?r:n)},G`${i} <= ${e} <= ${n}`)}check(e){var i;return(i=Re(this,We))==null?void 0:i.call(this,e)}};let S=ce;We=new WeakMap,Le(S,"DEFAULT_MARGIN",1);var Qe;const ae=class{constructor(e,i,n=1,s,l){Be(this,Qe,null);Le(this,"text",null);ye(this,Qe,e),this.text=i,this.priority=n,this.target=s,this.value=l}static unlock(e){return new ae(i=>i[`${e}seen`]=!0,G`Unlock ${e}`,0,e)}static autoPrestige(e){return new ae(i=>i[`${e}auto`]=!0,G`Automatic ${e} prestige`,0,e)}static add(e,i=1){return new ae(n=>{var s;return n[e]+=(s=n[i])!=null?s:i},G`${e} = ${e} + ${i}`,1,e,i)}static addLater(e,i=1){return new ae(n=>{var s;return n[e]+=(s=n[i])!=null?s:i},G`${e} = ${e} + ${i} (late)`,3,e,i)}static sub(e,i=1){return new ae(n=>{var s;return n[e]-=(s=n[i])!=null?s:i},G`${e} = ${e} - ${i}`,1,e,i)}static subLater(e,i=1){return new ae(n=>{var s;return n[e]-=(s=n[i])!=null?s:i},G`${e} = ${e} - ${i} (late)`,3,e,i)}static mul(e,i=2){return new ae(n=>{var s;return n[e]*=(s=n[i])!=null?s:i},G`${e} = ${e} * ${i}`,2,e,i)}static div(e,i=2){return new ae(n=>{var s;return n[e]/=(s=n[i])!=null?s:i},G`${e} = ${e} / ${i}`,2,e,i)}static assign(e,i=1){return new ae(n=>{var s;return n[e]=(s=n[i])!=null?s:i},G`${e} = ${i} (initial)`,0,e,i)}static fix(e,i=1){return new ae(n=>{var s;return n[e]=(s=n[i])!=null?s:i},G`${e} = ${i} (hard)`,4,e,i)}apply(e){var i;return(i=Re(this,Qe))==null?void 0:i.call(this,e)}setSource(e){this.source=e}};let U=ae;Qe=new WeakMap;const z=Object.freeze({UNKNOWN:0,CELL:1,ROW:2,COLUMN:3,DIAGONAL:4,SPECIAL:5}),ri={[z.CELL]:/^R\dC\d$/,[z.ROW]:/^R\d$/,[z.COLUMN]:/^C\d$/,[z.DIAGONAL]:/^D[LR]$/};function oi(t){for(const[e,i]of Object.entries(ri))if(t.match(i))return+e;return z.UNKNOWN}const ze=Object.freeze({T1:{name:"Table 1",conditions:[],slots:{R1C1:{prerequisites:["T1C3"],conditions:[S.moreOrEqual("A",2e3),S.lessOrEqual("Ap",10)],modifiers:[U.add("dBp",1)]},R1C2:{prerequisites:[],conditions:[S.impossible()],modifiers:[]},R1C3:{prerequisites:[],conditions:[S.more("MA",40),S.range("A",30,50)],modifiers:[U.add("MAm",1)]},R1C4:{prerequisites:[],conditions:[S.impossible()],modifiers:[]},R1C5:{prerequisites:["T1R5C1"],conditions:[S.moreOrEqual("Ap",10),S.lessOrEqual("At",120)],modifiers:[U.mul("dB",2)]},R2C1:{prerequisites:["T1R2C3"],conditions:[S.moreOrEqual("A",50)],modifiers:[U.add("dA",1)]},R2C2:{prerequisites:["T1R3"],conditions:[S.moreOrEqual("Ap",6),S.lessOrEqual("MA",50)],modifiers:[U.add("dB",2)]},R2C3:{prerequisites:[],conditions:[S.moreOrEqual("A",15)],modifiers:[U.add("dA",1)]},R2C4:{prerequisites:["T1R4C2"],conditions:[S.moreOrEqual("B",100)],modifiers:[U.sub("MBm",.1)]},R2C5:{prerequisites:[],conditions:[S.impossible()],modifiers:[]},R3C1:{prerequisites:["T1R4C2"],conditions:[S.moreOrEqual("Bp",2)],modifiers:[U.autoPrestige("B")]},R3C2:{prerequisites:[],conditions:[S.moreOrEqual("Ap",5)],modifiers:[U.sub("pAc",.1)]},R3C3:{prerequisites:[],conditions:[S.moreOrEqual("Ap",2)],modifiers:[U.autoPrestige("A")]},R3C4:{prerequisites:["T1R4C2"],conditions:[S.more("A",10),S.less("B",10)],modifiers:[U.sub("MAm",.2)]},R3C5:{prerequisites:["T1R4C3"],conditions:[S.moreOrEqual("A",120)],modifiers:[U.add("dA",2)]},R4C1:{prerequisites:["T1R4C2"],conditions:[S.moreOrEqual("B",22)],modifiers:[U.add("MAm",1)]},R4C2:{prerequisites:["T1R3C5"],conditions:[S.moreOrEqual("A",250)],modifiers:[U.unlock("B")],oneWay:!0},R4C3:{prerequisites:[],conditions:[S.moreOrEqual("A",25)],modifiers:[U.add("dA",1)]},R4C4:{prerequisites:[],conditions:[S.equal("A",600)],modifiers:[U.mul("dA",2)]},R4C5:{prerequisites:[],conditions:[S.impossible()],modifiers:[]},R5C1:{prerequisites:["T1R4C2"],conditions:[S.moreOrEqual("A",1e3)],modifiers:[U.add("dB",2)]},R5C2:{prerequisites:[],conditions:[S.impossible()],modifiers:[]},R5C3:{prerequisites:["T1R3"],conditions:[S.moreOrEqual("LN",2)],modifiers:[U.mul("dA","LN")]},R5C4:{prerequisites:[],conditions:[S.impossible()],modifiers:[]},R5C5:{prerequisites:["T1R5C1"],conditions:[S.moreOrEqual("Ap",6),S.range("A",10,20)],modifiers:[U.add("MAm",1)]},R1:{prerequisites:[],conditions:[S.impossible()],modifiers:[]},R2:{prerequisites:[],conditions:[S.impossible()],modifiers:[]},R3:{prerequisites:["T1R4C2"],conditions:[],modifiers:[U.add("dA","Bp")]},R4:{prerequisites:[],conditions:[S.impossible()],modifiers:[]},R5:{prerequisites:[],conditions:[S.impossible()],modifiers:[]},C1:{prerequisites:[],conditions:[],modifiers:[U.sub("MAm",.1)]},C2:{prerequisites:[],conditions:[S.impossible()],modifiers:[]},C3:{prerequisites:[],conditions:[],modifiers:[U.add("dAP",1)]},C4:{prerequisites:[],conditions:[S.impossible()],modifiers:[]},C5:{prerequisites:[],conditions:[S.impossible()],modifiers:[]},DL:{prerequisites:[],conditions:[],modifiers:[U.sub("pAc",.1)]},DR:{prerequisites:[],conditions:[],modifiers:[U.mul("dA",2)]}}}});var Gt;for(const[t,e]of Object.entries(ze))for(const[i,n]of Object.entries(e.slots)){if((Gt=n.type)!=null||(n.type=oi(i)),n.address=`${t}${i}`,!n.modifiers)continue;const s=`${t}${i}`;for(const l of n.modifiers)l.source=s}const P=Object.freeze({UNKNOWN:0,PREREQUISITES_MET:1,CONDITIONS_MET:2,VISIBLE:4,UNLOCKABLE:7,UNLOCKED:16,ENABLED:32});function ui(t,e,i){let{tables:n}=e,{modifierList:s=[]}=e;l();function l(){if(!s||!n)return;i(0,s.length=0,s);const o={};for(const u of Object.values(z))o[u]=0;for(const[u,a]of Object.entries(ze))for(const[m,d]of Object.entries(a.slots)){const g=`${u}${m}`,p=n[g];d.modifiers&&p&P.ENABLED&&s.push(...d.modifiers),p&P.UNLOCKED&&o[d.type]++}const c=Object.values(o).reduce((u,a)=>u+a),f=c-o[z.CELL];s.push(U.assign("cN",o[z.CELL])),s.push(U.assign("RN",o[z.ROW])),s.push(U.assign("CN",o[z.COLUMN])),s.push(U.assign("DN",o[z.DIAGONAL])),s.push(U.assign("SN",c)),s.push(U.assign("LN",f)),s.sort((u,a)=>u.priority-a.priority),A("modifiers-updated",s)}const r=[];return Oe(()=>{r.push(A.on("slot-toggled",l))}),pe(()=>{r.forEach(o=>o.cancel())}),t.$$set=o=>{"tables"in o&&i(1,n=o.tables),"modifierList"in o&&i(0,s=o.modifierList)},[s,n]}class fi extends H{constructor(e){super(),K(this,e,ui,null,j,{tables:1,modifierList:0})}}function at(t,e,i){const n=t.slice();return n[15]=e[i],n[16]=e,n[17]=i,n}function dt(t){let e,i,n,s,l=t[3],r=[];for(let u=0;u<l.length;u+=1)r[u]=mt(at(t,l,u));const o=u=>k(r[u],1,1,()=>{r[u]=null});function c(u){t[8](u)}let f={tables:t[2].tables};return t[0]!==void 0&&(f.modifierList=t[0]),i=new fi({props:f}),de.push(()=>_e(i,"modifierList",c)),{c(){for(let u=0;u<r.length;u+=1)r[u].c();e=N(),x(i.$$.fragment)},m(u,a){for(let m=0;m<r.length;m+=1)r[m]&&r[m].m(u,a);O(u,e,a),Y(i,u,a),s=!0},p(u,a){if(a&14){l=u[3];let d;for(d=0;d<l.length;d+=1){const g=at(u,l,d);r[d]?(r[d].p(g,a),C(r[d],1)):(r[d]=mt(g),r[d].c(),C(r[d],1),r[d].m(e.parentNode,e))}for(ne(),d=l.length;d<r.length;d+=1)o(d);se()}const m={};a&4&&(m.tables=u[2].tables),!n&&a&1&&(n=!0,m.modifierList=u[0],ge(()=>n=!1)),i.$set(m)},i(u){if(!s){for(let a=0;a<l.length;a+=1)C(r[a]);C(i.$$.fragment,u),s=!0}},o(u){r=r.filter(Boolean);for(let a=0;a<r.length;a+=1)k(r[a]);k(i.$$.fragment,u),s=!1},d(u){ve(r,u),u&&w(e),J(i,u)}}}function mt(t){let e,i,n,s,l,r;function o(m){t[4](m,t[15])}function c(m){t[5](m,t[15])}function f(m){t[6](m,t[15])}function u(m){t[7](m,t[15])}let a={state:t[2],name:t[15],delta:t[1][`d${t[15]}`],prestigeStep:t[1][`d${t[15]}p`],prestigeCost:t[1][`p${t[15]}c`],baseLimit:t[1][`M${t[15]}0`],limitMultiplier:t[1][`M${t[15]}m`],seen:t[1][`${t[15]}seen`],autoPrestige:t[1][`${t[15]}auto`]};return t[1][t[15]]!==void 0&&(a.value=t[1][t[15]]),t[1][`${t[15]}p`]!==void 0&&(a.prestiges=t[1][`${t[15]}p`]),t[1][`M${t[15]}`]!==void 0&&(a.limit=t[1][`M${t[15]}`]),t[1][`${t[15]}t`]!==void 0&&(a.timeSinceReset=t[1][`${t[15]}t`]),e=new si({props:a}),de.push(()=>_e(e,"value",o)),de.push(()=>_e(e,"prestiges",c)),de.push(()=>_e(e,"limit",f)),de.push(()=>_e(e,"timeSinceReset",u)),{c(){x(e.$$.fragment)},m(m,d){Y(e,m,d),r=!0},p(m,d){t=m;const g={};d&4&&(g.state=t[2]),d&2&&(g.delta=t[1][`d${t[15]}`]),d&2&&(g.prestigeStep=t[1][`d${t[15]}p`]),d&2&&(g.prestigeCost=t[1][`p${t[15]}c`]),d&2&&(g.baseLimit=t[1][`M${t[15]}0`]),d&2&&(g.limitMultiplier=t[1][`M${t[15]}m`]),d&2&&(g.seen=t[1][`${t[15]}seen`]),d&2&&(g.autoPrestige=t[1][`${t[15]}auto`]),!i&&d&10&&(i=!0,g.value=t[1][t[15]],ge(()=>i=!1)),!n&&d&10&&(n=!0,g.prestiges=t[1][`${t[15]}p`],ge(()=>n=!1)),!s&&d&10&&(s=!0,g.limit=t[1][`M${t[15]}`],ge(()=>s=!1)),!l&&d&10&&(l=!0,g.timeSinceReset=t[1][`${t[15]}t`],ge(()=>l=!1)),e.$set(g)},i(m){r||(C(e.$$.fragment,m),r=!0)},o(m){k(e.$$.fragment,m),r=!1},d(m){J(e,m)}}}function ci(t){let e,i,n=t[1]&&dt(t);return{c(){n&&n.c(),e=fe()},m(s,l){n&&n.m(s,l),O(s,e,l),i=!0},p(s,[l]){s[1]?n?(n.p(s,l),l&2&&C(n,1)):(n=dt(s),n.c(),C(n,1),n.m(e.parentNode,e)):n&&(ne(),k(n,1,1,()=>{n=null}),se())},i(s){i||(C(n),i=!0)},o(s){k(n),i=!1},d(s){n&&n.d(s),s&&w(e)}}}const ai=1e4;function di(t,e,i){const n=Object.keys(ke);let{values:s=c()}=e,{state:l}=e,{modifierList:r=[]}=e;function o(_=_){var M,L,W,Z;for(const I of n)_[`d${I}`]=(M=ke[I].baseSpeed)!=null?M:1,_[`M${I}0`]=(L=ke[I].baseLimit)!=null?L:5,_[`M${I}m`]=(W=ke[I].baseLimitMultiplier)!=null?W:2,_[`d${I}p`]=1,_[`p${I}c`]=1,_[`${I}seen`]=(Z=ke[I].initialSeen)!=null?Z:!1,_[`${I}auto`]=!1;_.slots=0,_.rows=0,_.columns=0,_.diagonals=0}function c(){const _={};o(_);for(const M of n)_[M]=0,_[`M${M}`]=_[`M${M}0`],_[`${M}p`]=0,_[`${M}t`]=0;return _}function f(){o(s);for(let _ of n)if(ke[_].speedFactors)for(const M of ke[_].speedFactors)i(1,s[`d${_}`]*=s[M],s);if(r)for(const _ of r)_.apply(s);for(let _ of n)i(1,s[`M${_}0`]=Math.max(1,s[`M${_}0`]),s),i(1,s[`M${_}m`]=Math.max(1,s[`M${_}m`]),s),i(1,s[`d${_}`]=Math.max(0,s[`d${_}`]),s),i(1,s[`p${_}c`]=Math.max(0,Math.min(s[`p${_}c`],1)),s);A("derived-values-updated",s),A("values-updated",s)}function u(_){var ue,$,le,F;if(!((ue=s[`${_}seen`])!=null?ue:!1))return 1/0;const L=($=s[`M${_}`])!=null?$:0;if(L===0)return 1/0;const W=(le=s[`d${_}`])!=null?le:0;if(W===0)return 1/0;const Z=(F=s[`${_}`])!=null?F:0;return Z>=L?1/0:(L-Z)/W}function a(_){if(!s)return;let M=_;for(;M>0;){const L=n.map(u);let W=Math.min(ai,M,...L);A("command-tick-step",W),f(),M-=W}A("stored-values-updated",s),A("values-updated",s)}const m=[];Oe(()=>{m.push(A.on("command-tick",a))}),pe(()=>{m.forEach(_=>_.cancel())});function d(_,M){t.$$.not_equal(s[M],_)&&(s[M]=_,i(1,s))}function g(_,M){t.$$.not_equal(s[`${M}p`],_)&&(s[`${M}p`]=_,i(1,s))}function p(_,M){t.$$.not_equal(s[`M${M}`],_)&&(s[`M${M}`]=_,i(1,s))}function b(_,M){t.$$.not_equal(s[`${M}t`],_)&&(s[`${M}t`]=_,i(1,s))}function T(_){r=_,i(0,r)}return t.$$set=_=>{"values"in _&&i(1,s=_.values),"state"in _&&i(2,l=_.state),"modifierList"in _&&i(0,r=_.modifierList)},t.$$.update=()=>{t.$$.dirty&1&&f()},[r,s,l,n,d,g,p,b,T]}class mi extends H{constructor(e){super(),K(this,e,di,ci,j,{values:1,state:2,modifierList:0})}}function gi(t,e,i){let{tables:n={}}=e,{state:s}=e;function l(u){var a;return(a=u==null?void 0:u.every(m=>m.check(s.values)))!=null?a:!0}function r(u){var d;let a=P.UNKNOWN,m=[];return u.type===z.ROW?m=["C1","C2","C3","C4","C5"].map(g=>`${u.address}${g}`):u.type===z.COLUMN?m=["R1","R2","R3","R4","R5"].map(g=>`${u.address.slice(0,2)}${g}${u.address.slice(2)}`):u.type===z.DIAGONAL&&u.address.slice(-2)==="DR"?m=["R1C1","R2C2","R3C3","R4C4","R5C5"].map(g=>`${u.address.slice(0,2)}${g}`):u.type===z.DIAGONAL&&u.address.slice(-2)==="DL"&&(m=["R1C5","R2C4","R3C3","R4C2","R5C1"].map(g=>`${u.address.slice(0,2)}${g}`)),m.every(g=>n[g]&P.UNLOCKED)&&(a|=P.VISIBLE),((d=u==null?void 0:u.prerequisites.every(g=>n[g]&P.UNLOCKED))==null||d)&&(a|=P.PREREQUISITES_MET),l(u==null?void 0:u.conditions)&&(a|=P.CONDITIONS_MET),a}function o(){if(!(!n||!(s!=null&&s.values))){for(const[u,a]of Object.entries(ze)){for(const[m,d]of Object.entries(a.slots)){const g=`${u}${m}`;n[g]&P.UNLOCKED||i(0,n[g]=r(d),n)}i(0,n[`${u}seen`]=l(a==null?void 0:a.conditions),n)}A("tables-updated",n)}}function c(u,a=null){!(n[u]&P.UNLOCKED)&&(n[u]&P.UNLOCKABLE)===P.UNLOCKABLE&&i(0,n[u]|=P.UNLOCKED,n),n[u]&P.UNLOCKED&&(a===!0?i(0,n[u]|=P.ENABLED,n):a===!1?i(0,n[u]&=~P.ENABLED,n):i(0,n[u]^=P.ENABLED,n)),A("slot-toggled",u,n[u]&P.ENABLED)}const f=[];return Oe(()=>{f.push(A.on("stored-values-updated",o)),f.push(A.on("command-toggle-slot",c))}),pe(()=>{f.forEach(u=>u.cancel())}),t.$$set=u=>{"tables"in u&&i(0,n=u.tables),"state"in u&&i(1,s=u.state)},[n,s]}class _i extends H{constructor(e){super(),K(this,e,gi,null,j,{tables:0,state:1})}}function gt(t){let e,i,n,s,l,r;function o(a){t[6](a)}let c={state:t[0]};t[0].values!==void 0&&(c.values=t[0].values),e=new mi({props:c}),de.push(()=>_e(e,"values",o));function f(a){t[7](a)}let u={state:t[0]};return t[0].tables!==void 0&&(u.tables=t[0].tables),s=new _i({props:u}),de.push(()=>_e(s,"tables",f)),{c(){x(e.$$.fragment),n=N(),x(s.$$.fragment)},m(a,m){Y(e,a,m),O(a,n,m),Y(s,a,m),r=!0},p(a,m){const d={};m&1&&(d.state=a[0]),!i&&m&1&&(i=!0,d.values=a[0].values,ge(()=>i=!1)),e.$set(d);const g={};m&1&&(g.state=a[0]),!l&&m&1&&(l=!0,g.tables=a[0].tables,ge(()=>l=!1)),s.$set(g)},i(a){r||(C(e.$$.fragment,a),C(s.$$.fragment,a),r=!0)},o(a){k(e.$$.fragment,a),k(s.$$.fragment,a),r=!1},d(a){J(e,a),a&&w(n),J(s,a)}}}function _t(t){let e,i,n=t[0]&&gt(t);return{c(){n&&n.c(),e=fe()},m(s,l){n&&n.m(s,l),O(s,e,l),i=!0},p(s,l){s[0]?n?(n.p(s,l),l&1&&C(n,1)):(n=gt(s),n.c(),C(n,1),n.m(e.parentNode,e)):n&&(ne(),k(n,1,1,()=>{n=null}),se())},i(s){i||(C(n),i=!0)},o(s){k(n),i=!1},d(s){n&&n.d(s),s&&w(e)}}}function hi(t){let e,i,n,s,l=t[1],r,o;function c(m){t[4](m)}function f(m){t[5](m)}let u={defaultState:t[2]};t[0]!==void 0&&(u.state=t[0]),t[1]!==void 0&&(u.id=t[1]),e=new ii({props:u}),de.push(()=>_e(e,"state",c)),de.push(()=>_e(e,"id",f));let a=_t(t);return{c(){x(e.$$.fragment),s=N(),a.c(),r=fe()},m(m,d){Y(e,m,d),O(m,s,d),a.m(m,d),O(m,r,d),o=!0},p(m,[d]){const g={};!i&&d&1&&(i=!0,g.state=m[0],ge(()=>i=!1)),!n&&d&2&&(n=!0,g.id=m[1],ge(()=>n=!1)),e.$set(g),d&2&&j(l,l=m[1])?(ne(),k(a,1,1,q),se(),a=_t(m),a.c(),C(a,1),a.m(r.parentNode,r)):a.p(m,d)},i(m){o||(C(e.$$.fragment,m),C(a),o=!0)},o(m){k(e.$$.fragment,m),k(a),o=!1},d(m){J(e,m),m&&w(s),m&&w(r),a.d(m)}}}function bi(t,e,i){let{game:n={}}=e;const s=Object.freeze({});let l,r;function o(d){i(3,n.state.tab=d,n)}const c=[];Oe(()=>{c.push(A.on("command-set-tab",o))}),pe(()=>{c.forEach(d=>d.cancel())});function f(d){l=d,i(0,l)}function u(d){r=d,i(1,r)}function a(d){t.$$.not_equal(l.values,d)&&(l.values=d,i(0,l))}function m(d){t.$$.not_equal(l.tables,d)&&(l.tables=d,i(0,l))}return t.$$set=d=>{"game"in d&&i(3,n=d.game)},t.$$.update=()=>{t.$$.dirty&1&&i(3,n.state=l,n),t.$$.dirty&2&&i(3,n.id=r,n)},[l,r,s,n,f,u,a,m]}class pi extends H{constructor(e){super(),K(this,e,bi,hi,j,{game:3})}}function vi(t){let e;return{c(){e=E("div"),v(e,"class","container svelte-m5f3sc")},m(i,n){O(i,e,n)},p:q,i:q,o:q,d(i){i&&w(e)}}}function Ei(t,e,i){let{game:n}=e;return t.$$set=s=>{"game"in s&&i(0,n=s.game)},[n]}class Ci extends H{constructor(e){super(),K(this,e,Ei,vi,j,{game:0})}}function Ue(t){let e=null;const i=c=>{o(c),c.shiftKey||c.button?l():s()},n=c=>{e=setTimeout(()=>{l(),e=null},500),o(c)},s=()=>{t.dispatchEvent(new CustomEvent("basicaction"))},l=()=>{t.dispatchEvent(new CustomEvent("specialaction"))},r=c=>{e&&(clearTimeout(e),e=null,t.dispatchEvent(new CustomEvent("basicaction"))),o(c)},o=c=>{c.preventDefault(),c.stopPropagation()};return t.addEventListener("mouseup",i,!0),t.addEventListener("touchstart",n,!0),t.addEventListener("touchend",r,!0),t.addEventListener("contextmenu",o,!0),{destroy(){t.removeEventListener("mouseup",i,!0),t.removeEventListener("touchstart",n,!0),t.removeEventListener("touchend",r,!0),t.removeEventListener("contextmenu",o,!0)}}}function ht(t){let e;return{c(){e=E("div"),v(e,"class","slot svelte-1x3tuxl"),v(e,"style",t[6]),R(e,"seen",t[4]),R(e,"available",t[3]),R(e,"unlocked",t[2]),R(e,"enabled",t[1]),R(e,"cell",t[0])},m(i,n){O(i,e,n)},p(i,n){n&64&&v(e,"style",i[6]),n&16&&R(e,"seen",i[4]),n&8&&R(e,"available",i[3]),n&4&&R(e,"unlocked",i[2]),n&2&&R(e,"enabled",i[1]),n&1&&R(e,"cell",i[0])},d(i){i&&w(e)}}}function Li(t){let e,i=t[5]&&ht(t);return{c(){i&&i.c(),e=fe()},m(n,s){i&&i.m(n,s),O(n,e,s)},p(n,[s]){n[5]?i?i.p(n,s):(i=ht(n),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null)},i:q,o:q,d(n){i&&i.d(n),n&&w(e)}}}function je(t,e){return`--row:${e};--column:${t}`}function yi(t,e,i){let n,s,l,r,o,c,f,{id:u}=e,{value:a}=e,{slot:m}=e;function d(g){if(m.type===z.CELL){const p=+g[3]+1,b=+g[1];return je(p,b)}if(m.type===z.ROW){const b=+g[1];return je(7,b)}if(m.type===z.COLUMN){const p=+g[1]+1;return je(p,6)}if(g==="DL")return je(1,6);if(g==="DR")return je(7,6)}return t.$$set=g=>{"id"in g&&i(7,u=g.id),"value"in g&&i(8,a=g.value),"slot"in g&&i(9,m=g.slot)},t.$$.update=()=>{t.$$.dirty&128&&i(6,n=d(u)),t.$$.dirty&256&&i(5,s=a&P.VISIBLE),t.$$.dirty&256&&i(4,l=a&P.PREREQUISITES_MET),t.$$.dirty&256&&i(3,r=(a&P.UNLOCKABLE)===P.UNLOCKABLE),t.$$.dirty&256&&i(2,o=a&P.UNLOCKED),t.$$.dirty&256&&i(1,c=a&P.ENABLED),t.$$.dirty&512&&i(0,f=m.type===z.CELL)},[f,c,o,r,l,s,n,u,a,m]}class ki extends H{constructor(e){super(),K(this,e,yi,Li,j,{id:7,value:8,slot:9})}}function bt(t,e,i){const n=t.slice();return n[10]=e[i][0],n[11]=e[i][1],n}function pt(t){let e,i,n,s,l,r,o,c,f,u,a=t[3],m=[];for(let g=0;g<a.length;g+=1)m[g]=vt(bt(t,a,g));const d=g=>k(m[g],1,1,()=>{m[g]=null});return{c(){e=E("div"),i=E("div"),n=V(t[1]),s=N(),l=E("div"),r=N(),o=E("div");for(let g=0;g<m.length;g+=1)m[g].c();v(i,"class","id svelte-ym4ihb"),v(l,"class","spacer svelte-ym4ihb"),v(o,"class","table svelte-ym4ihb"),v(e,"class","data svelte-ym4ihb")},m(g,p){O(g,e,p),h(e,i),h(i,n),h(e,s),h(e,l),h(e,r),h(e,o);for(let b=0;b<m.length;b+=1)m[b]&&m[b].m(o,null);c=!0,f||(u=[Te(Ue.call(null,e)),me(e,"basicaction",t[8]),me(e,"specialaction",t[9])],f=!0)},p(g,p){if((!c||p&2)&&ee(n,g[1]),p&11){a=g[3];let b;for(b=0;b<a.length;b+=1){const T=bt(g,a,b);m[b]?(m[b].p(T,p),C(m[b],1)):(m[b]=vt(T),m[b].c(),C(m[b],1),m[b].m(o,null))}for(ne(),b=a.length;b<m.length;b+=1)d(b);se()}},i(g){if(!c){for(let p=0;p<a.length;p+=1)C(m[p]);c=!0}},o(g){m=m.filter(Boolean);for(let p=0;p<m.length;p+=1)k(m[p]);c=!1},d(g){g&&w(e),ve(m,g),f=!1,he(u)}}}function vt(t){var n,s,l,r;let e,i;return e=new ki({props:{value:(r=(l=(s=(n=t[0])==null?void 0:n.state)==null?void 0:s.tables)==null?void 0:l[`${t[1]}${t[10]}`])!=null?r:0,id:t[10],slot:t[11]}}),{c(){x(e.$$.fragment)},m(o,c){Y(e,o,c),i=!0},p(o,c){var u,a,m,d;const f={};c&11&&(f.value=(d=(m=(a=(u=o[0])==null?void 0:u.state)==null?void 0:a.tables)==null?void 0:m[`${o[1]}${o[10]}`])!=null?d:0),c&8&&(f.id=o[10]),c&8&&(f.slot=o[11]),e.$set(f)},i(o){i||(C(e.$$.fragment,o),i=!0)},o(o){k(e.$$.fragment,o),i=!1},d(o){J(e,o)}}}function wi(t){let e,i,n=t[5]&&pt(t);return{c(){e=E("div"),n&&n.c(),v(e,"class","container svelte-ym4ihb"),D(e,"--ui-slot",t[4]),R(e,"visible",t[5]),R(e,"ready",t[6]),R(e,"active",t[2])},m(s,l){O(s,e,l),n&&n.m(e,null),i=!0},p(s,[l]){s[5]?n?(n.p(s,l),l&32&&C(n,1)):(n=pt(s),n.c(),C(n,1),n.m(e,null)):n&&(ne(),k(n,1,1,()=>{n=null}),se()),(!i||l&16)&&D(e,"--ui-slot",s[4]),(!i||l&32)&&R(e,"visible",s[5]),(!i||l&64)&&R(e,"ready",s[6]),(!i||l&4)&&R(e,"active",s[2])},i(s){i||(C(n),i=!0)},o(s){k(n),i=!1},d(s){s&&w(e),n&&n.d()}}}function Mi(t,e,i){let n,s,l,r,o,{game:c}=e,{id:f}=e,{active:u=!1}=e;function a(d){Ie.call(this,t,d)}function m(d){Ie.call(this,t,d)}return t.$$set=d=>{"game"in d&&i(0,c=d.game),"id"in d&&i(1,f=d.id),"active"in d&&i(2,u=d.active)},t.$$.update=()=>{var d,g,p,b,T,_;t.$$.dirty&3&&i(5,s=(p=(g=(d=c==null?void 0:c.state)==null?void 0:d.tables)==null?void 0:g[`${f}seen`])!=null?p:!1),t.$$.dirty&2&&i(4,l=(T=(b=f==null?void 0:f.toLowerCase)==null?void 0:b.call(f))!=null?T:"none"),t.$$.dirty&2&&i(7,r=ze[f]),t.$$.dirty&128&&i(3,o=Object.entries((_=r==null?void 0:r.slots)!=null?_:{}))},i(6,n=!1),[c,f,u,o,l,s,n,r,a,m]}class Pe extends H{constructor(e){super(),K(this,e,Mi,wi,j,{game:0,id:1,active:2})}}function Oi(t){let e,i,n,s,l,r;return{c(){e=E("div"),i=E("div"),n=E("div"),s=V(t[2]),v(n,"class","id svelte-ed5uou"),v(i,"class","data svelte-ed5uou"),v(e,"class","visible container svelte-ed5uou"),D(e,"--ui-slot",t[1]),R(e,"ready",t[3]),R(e,"active",t[0])},m(o,c){O(o,e,c),h(e,i),h(i,n),h(n,s),l||(r=[Te(Ue.call(null,e)),me(e,"basicaction",t[6]),me(e,"specialaction",t[7])],l=!0)},p(o,[c]){c&4&&ee(s,o[2]),c&2&&D(e,"--ui-slot",o[1]),c&8&&R(e,"ready",o[3]),c&1&&R(e,"active",o[0])},i:q,o:q,d(o){o&&w(e),l=!1,he(r)}}}function Ni(t,e,i){let n,s,l,{game:r}=e,{id:o}=e,{active:c=!1}=e;function f(a){Ie.call(this,t,a)}function u(a){Ie.call(this,t,a)}return t.$$set=a=>{"game"in a&&i(4,r=a.game),"id"in a&&i(5,o=a.id),"active"in a&&i(0,c=a.active)},t.$$.update=()=>{var a,m;t.$$.dirty&32&&i(2,s=`${o.slice(0,2)}
${o.slice(2)}`),t.$$.dirty&32&&i(1,l=(m=(a=o==null?void 0:o.toLowerCase)==null?void 0:a.call(o))!=null?m:"none")},i(3,n=!1),[c,l,s,n,r,o,f,u]}class $e extends H{constructor(e){super(),K(this,e,Ni,Oi,j,{game:4,id:5,active:0})}}function Ri(t){let e,i,n,s,l,r,o;return{c(){e=E("div"),i=E("div"),n=N(),s=E("div"),l=N(),r=E("div"),o=V(t[0]),v(i,"class","bg svelte-h1029k"),v(s,"class","fg svelte-h1029k"),v(r,"class","caption svelte-h1029k"),v(e,"class","bar svelte-h1029k"),D(e,"--progress",t[3]+"%"),D(e,"--fgcolor",t[2]),D(e,"--bgcolor",t[1])},m(c,f){O(c,e,f),h(e,i),h(e,n),h(e,s),h(e,l),h(e,r),h(r,o)},p(c,[f]){f&1&&ee(o,c[0]),f&8&&D(e,"--progress",c[3]+"%"),f&4&&D(e,"--fgcolor",c[2]),f&2&&D(e,"--bgcolor",c[1])},i:q,o:q,d(c){c&&w(e)}}}function Si(t,e,i){let n,{max:s=100}=e,{current:l=0}=e,{caption:r=""}=e,{bgcolor:o="#333333"}=e,{fgcolor:c="#666666"}=e;return t.$$set=f=>{"max"in f&&i(4,s=f.max),"current"in f&&i(5,l=f.current),"caption"in f&&i(0,r=f.caption),"bgcolor"in f&&i(1,o=f.bgcolor),"fgcolor"in f&&i(2,c=f.fgcolor)},t.$$.update=()=>{t.$$.dirty&48&&i(3,n=(100*l/s).toFixed(2))},[r,o,c,n,s,l]}class Ai extends H{constructor(e){super(),K(this,e,Si,Ri,j,{max:4,current:5,caption:0,bgcolor:1,fgcolor:2})}}const Ze={A:"#000077",B:"#770000",C:"#777700",AB:"#770077",AC:"#007700",BC:"#774400",ABC:"#111111"};function Et(t,e,i){const n=t.slice();return n[11]=e[i][0],n[12]=e[i][1],n}function Ct(t){let e,i=G`${t[12]} (${t[11]}): ${t[3][t[11]]}`+"",n,s;return{c(){e=E("div"),n=V(i),s=N()},m(l,r){O(l,e,r),h(e,n),h(e,s)},p(l,r){r&24&&i!==(i=G`${l[12]} (${l[11]}): ${l[3][l[11]]}`+"")&&ee(n,i)},d(l){l&&w(e)}}}function qi(t){let e,i,n,s,l,r,o,c,f,u,a,m,d,g,p,b,T,_,M,L,W,Z,I,ue,$;o=new Ai({props:{bgcolor:"#888888",fgcolor:Ze[t[0]],current:t[2],max:t[1],caption:G`${t[2]} / ${t[1]}`}});let le=t[4],F=[];for(let y=0;y<le.length;y+=1)F[y]=Ct(Et(t,le,y));return{c(){e=E("div"),i=E("div"),n=E("div"),s=V(t[0]),l=N(),r=E("div"),x(o.$$.fragment),c=N(),f=E("div");for(let y=0;y<F.length;y+=1)F[y].c();u=N(),a=E("div"),m=E("div"),d=V("Prestige "),g=V(t[0]),p=N(),b=E("div"),b.textContent=`You get prestige points\r
                and increased limit.`,T=N(),_=E("div"),M=V("Reset "),L=V(t[0]),W=N(),Z=E("div"),Z.textContent=`You lose everything\r
                and get nothing.`,v(n,"class","bar-id svelte-1nqyrfr"),v(r,"class","bar svelte-1nqyrfr"),v(i,"class","bar-line svelte-1nqyrfr"),v(f,"class","data svelte-1nqyrfr"),v(b,"class","button-hint svelte-1nqyrfr"),v(m,"class","button svelte-1nqyrfr"),R(m,"disabled",!t[5]),v(Z,"class","button-hint svelte-1nqyrfr"),v(_,"class","button svelte-1nqyrfr"),v(a,"class","buttons svelte-1nqyrfr"),v(e,"class","container svelte-1nqyrfr"),D(e,"--ui-slot",t[6])},m(y,B){O(y,e,B),h(e,i),h(i,n),h(n,s),h(i,l),h(i,r),Y(o,r,null),h(e,c),h(e,f);for(let te=0;te<F.length;te+=1)F[te]&&F[te].m(f,null);h(e,u),h(e,a),h(a,m),h(m,d),h(m,g),h(m,p),h(m,b),h(a,T),h(a,_),h(_,M),h(_,L),h(_,W),h(_,Z),I=!0,ue||($=[Te(Ue.call(null,m)),me(m,"basicaction",t[7]),Te(Ue.call(null,_)),me(_,"basicaction",t[8])],ue=!0)},p(y,[B]){(!I||B&1)&&ee(s,y[0]);const te={};if(B&1&&(te.fgcolor=Ze[y[0]]),B&4&&(te.current=y[2]),B&2&&(te.max=y[1]),B&6&&(te.caption=G`${y[2]} / ${y[1]}`),o.$set(te),B&24){le=y[4];let ie;for(ie=0;ie<le.length;ie+=1){const De=Et(y,le,ie);F[ie]?F[ie].p(De,B):(F[ie]=Ct(De),F[ie].c(),F[ie].m(f,null))}for(;ie<F.length;ie+=1)F[ie].d(1);F.length=le.length}(!I||B&1)&&ee(g,y[0]),(!I||B&32)&&R(m,"disabled",!y[5]),(!I||B&1)&&ee(L,y[0]),(!I||B&64)&&D(e,"--ui-slot",y[6])},i(y){I||(C(o.$$.fragment,y),I=!0)},o(y){k(o.$$.fragment,y),I=!1},d(y){y&&w(e),J(o),ve(F,y),ue=!1,he($)}}}function Ti(t){return Object.entries({[t]:"Current value",[`d${t}`]:"Growth speed",[`M${t}`]:"Current limit",[`M${t}m`]:"Prestige limit multiplier",[`M${t}0`]:"Limit after reset",[`${t}p`]:"Current prestige points",[`d${t}p`]:"Prestige points per prestige",[`p${t}c`]:"Fraction of value lost on prestige",[`${t}t`]:"Time since last reset"})}function Ii(t,e,i){let n,s,l,r,o,c,{game:f}=e,{id:u}=e;function a(){A("command-prestige-value",u)}function m(){A("command-reset-value",u)}return t.$$set=d=>{"game"in d&&i(9,f=d.game),"id"in d&&i(0,u=d.id)},t.$$.update=()=>{var d,g,p,b;t.$$.dirty&1&&i(6,n=(g=(d=u==null?void 0:u.toLowerCase)==null?void 0:d.call(u))!=null?g:"none"),t.$$.dirty&512&&i(3,s=(b=(p=f==null?void 0:f.state)==null?void 0:p.values)!=null?b:{}),t.$$.dirty&9&&i(2,l=s[u]),t.$$.dirty&9&&i(1,r=s[`M${u}`]),t.$$.dirty&9&&s[`${u}p`],t.$$.dirty&6&&i(5,o=l>=r),t.$$.dirty&1&&i(4,c=Ti(u))},[u,r,l,s,c,o,n,a,m,f]}class et extends H{constructor(e){super(),K(this,e,Ii,qi,j,{game:9,id:0})}}function Ui(t){let e;return{c(){e=V(t[0])},m(i,n){O(i,e,n)},p(i,[n]){n&1&&ee(e,i[0])},i:q,o:q,d(i){i&&w(e)}}}function Di(t,e,i){let{game:n}=e,{id:s}=e;return t.$$set=l=>{"game"in l&&i(1,n=l.game),"id"in l&&i(0,s=l.id)},[s,n]}class Bi extends H{constructor(e){super(),K(this,e,Di,Ui,j,{game:1,id:0})}}function ji(t){let e;return{c(){e=V(t[0])},m(i,n){O(i,e,n)},p(i,[n]){n&1&&ee(e,i[0])},i:q,o:q,d(i){i&&w(e)}}}function Pi(t,e,i){let{game:n}=e,{id:s}=e;return t.$$set=l=>{"game"in l&&i(1,n=l.game),"id"in l&&i(0,s=l.id)},[s,n]}class tt extends H{constructor(e){super(),K(this,e,Pi,ji,j,{game:1,id:0})}}function Lt(t,e,i){const n=t.slice();return n[2]=e[i],n}function yt(t){let e;return{c(){e=E("div"),e.textContent=`Unconditional\r
    `,v(e,"class","item")},m(i,n){O(i,e,n)},p:q,d(i){i&&w(e)}}}function kt(t){let e,i=t[2].text+"",n,s;return{c(){e=E("div"),n=V(i),s=N(),v(e,"class","item")},m(l,r){O(l,e,r),h(e,n),h(e,s)},p(l,r){r&1&&i!==(i=l[2].text+"")&&ee(n,i)},d(l){l&&w(e)}}}function Gi(t){let e,i,n,s=t[0],l=[];for(let o=0;o<s.length;o+=1)l[o]=kt(Lt(t,s,o));let r=null;return s.length||(r=yt()),{c(){e=E("div"),e.textContent="Conditions:",i=N();for(let o=0;o<l.length;o+=1)l[o].c();n=fe(),r&&r.c(),v(e,"class","title")},m(o,c){O(o,e,c),O(o,i,c);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(o,c);O(o,n,c),r&&r.m(o,c)},p(o,[c]){if(c&1){s=o[0];let f;for(f=0;f<s.length;f+=1){const u=Lt(o,s,f);l[f]?l[f].p(u,c):(l[f]=kt(u),l[f].c(),l[f].m(n.parentNode,n))}for(;f<l.length;f+=1)l[f].d(1);l.length=s.length,!s.length&&r?r.p(o,c):s.length?r&&(r.d(1),r=null):(r=yt(),r.c(),r.m(n.parentNode,n))}},i:q,o:q,d(o){o&&w(e),o&&w(i),ve(l,o),o&&w(n),r&&r.d(o)}}}function Ki(t,e,i){let{conditions:n=[]}=e,{game:s}=e;return t.$$set=l=>{"conditions"in l&&i(0,n=l.conditions),"game"in l&&i(1,s=l.game)},[n,s]}class Hi extends H{constructor(e){super(),K(this,e,Ki,Gi,j,{conditions:0,game:1})}}function wt(t,e,i){const n=t.slice();return n[2]=e[i],n}function Mt(t){let e,i=t[2].text+"",n,s;return{c(){e=E("div"),n=V(i),s=N(),v(e,"class","item")},m(l,r){O(l,e,r),h(e,n),h(e,s)},p(l,r){r&1&&i!==(i=l[2].text+"")&&ee(n,i)},d(l){l&&w(e)}}}function Fi(t){let e,i,n,s=t[0],l=[];for(let r=0;r<s.length;r+=1)l[r]=Mt(wt(t,s,r));return{c(){e=E("div"),e.textContent="Modifiers:",i=N();for(let r=0;r<l.length;r+=1)l[r].c();n=fe(),v(e,"class","title")},m(r,o){O(r,e,o),O(r,i,o);for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(r,o);O(r,n,o)},p(r,[o]){if(o&1){s=r[0];let c;for(c=0;c<s.length;c+=1){const f=wt(r,s,c);l[c]?l[c].p(f,o):(l[c]=Mt(f),l[c].c(),l[c].m(n.parentNode,n))}for(;c<l.length;c+=1)l[c].d(1);l.length=s.length}},i:q,o:q,d(r){r&&w(e),r&&w(i),ve(l,r),r&&w(n)}}}function Vi(t,e,i){let{modifiers:n=[]}=e,{game:s}=e;return t.$$set=l=>{"modifiers"in l&&i(0,n=l.modifiers),"game"in l&&i(1,s=l.game)},[n,s]}class Wi extends H{constructor(e){super(),K(this,e,Vi,Fi,j,{modifiers:0,game:1})}}function Ot(t,e,i){const n=t.slice();return n[2]=e[i],n}function Nt(t){let e,i=t[2]+"",n,s;return{c(){e=E("div"),n=V(i),s=N(),v(e,"class","item")},m(l,r){O(l,e,r),h(e,n),h(e,s)},p(l,r){r&1&&i!==(i=l[2]+"")&&ee(n,i)},d(l){l&&w(e)}}}function Qi(t){let e,i,n,s=t[0],l=[];for(let r=0;r<s.length;r+=1)l[r]=Nt(Ot(t,s,r));return{c(){e=E("div"),e.textContent="Requires:",i=N();for(let r=0;r<l.length;r+=1)l[r].c();n=fe(),v(e,"class","title")},m(r,o){O(r,e,o),O(r,i,o);for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(r,o);O(r,n,o)},p(r,[o]){if(o&1){s=r[0];let c;for(c=0;c<s.length;c+=1){const f=Ot(r,s,c);l[c]?l[c].p(f,o):(l[c]=Nt(f),l[c].c(),l[c].m(n.parentNode,n))}for(;c<l.length;c+=1)l[c].d(1);l.length=s.length}},i:q,o:q,d(r){r&&w(e),r&&w(i),ve(l,r),r&&w(n)}}}function zi(t,e,i){let{prerequisites:n=[]}=e,{game:s}=e;return t.$$set=l=>{"prerequisites"in l&&i(0,n=l.prerequisites),"game"in l&&i(1,s=l.game)},[n,s]}class Xi extends H{constructor(e){super(),K(this,e,zi,Qi,j,{prerequisites:0,game:1})}}function Rt(t){let e,i,n=t[0].address+"",s,l,r,o,c,f,u,a;const m=[Zi,Ji,Yi],d=[];function g(p,b){return p[4]?0:p[6]?1:2}return o=g(t),c=d[o]=m[o](t),{c(){e=E("div"),i=E("div"),s=V(n),l=N(),r=E("div"),c.c(),v(i,"class","title"),v(r,"class","content svelte-142nwaf"),v(e,"class","slot svelte-142nwaf"),v(e,"style",t[8]),R(e,"seen",t[6]),R(e,"available",t[5]),R(e,"unlocked",t[4]),R(e,"enabled",t[2]),R(e,"cell",t[3]),R(e,"oneway",t[0].oneWay)},m(p,b){O(p,e,b),h(e,i),h(i,s),h(e,l),h(e,r),d[o].m(r,null),f=!0,u||(a=[Te(Ue.call(null,e)),me(e,"basicaction",t[9]),me(e,"specialaction",t[13])],u=!0)},p(p,b){(!f||b&1)&&n!==(n=p[0].address+"")&&ee(s,n);let T=o;o=g(p),o===T?d[o].p(p,b):(ne(),k(d[T],1,1,()=>{d[T]=null}),se(),c=d[o],c?c.p(p,b):(c=d[o]=m[o](p),c.c()),C(c,1),c.m(r,null)),(!f||b&256)&&v(e,"style",p[8]),(!f||b&64)&&R(e,"seen",p[6]),(!f||b&32)&&R(e,"available",p[5]),(!f||b&16)&&R(e,"unlocked",p[4]),(!f||b&4)&&R(e,"enabled",p[2]),(!f||b&8)&&R(e,"cell",p[3]),(!f||b&1)&&R(e,"oneway",p[0].oneWay)},i(p){f||(C(c),f=!0)},o(p){k(c),f=!1},d(p){p&&w(e),d[o].d(),u=!1,he(a)}}}function Yi(t){let e,i;return e=new Xi({props:{game:t[1],prerequisites:t[0].prerequisites}}),{c(){x(e.$$.fragment)},m(n,s){Y(e,n,s),i=!0},p(n,s){const l={};s&2&&(l.game=n[1]),s&1&&(l.prerequisites=n[0].prerequisites),e.$set(l)},i(n){i||(C(e.$$.fragment,n),i=!0)},o(n){k(e.$$.fragment,n),i=!1},d(n){J(e,n)}}}function Ji(t){let e,i;return e=new Hi({props:{game:t[1],conditions:t[0].conditions}}),{c(){x(e.$$.fragment)},m(n,s){Y(e,n,s),i=!0},p(n,s){const l={};s&2&&(l.game=n[1]),s&1&&(l.conditions=n[0].conditions),e.$set(l)},i(n){i||(C(e.$$.fragment,n),i=!0)},o(n){k(e.$$.fragment,n),i=!1},d(n){J(e,n)}}}function Zi(t){let e,i;return e=new Wi({props:{game:t[1],modifiers:t[0].modifiers}}),{c(){x(e.$$.fragment)},m(n,s){Y(e,n,s),i=!0},p(n,s){const l={};s&2&&(l.game=n[1]),s&1&&(l.modifiers=n[0].modifiers),e.$set(l)},i(n){i||(C(e.$$.fragment,n),i=!0)},o(n){k(e.$$.fragment,n),i=!1},d(n){J(e,n)}}}function xi(t){let e,i,n=t[7]&&Rt(t);return{c(){n&&n.c(),e=fe()},m(s,l){n&&n.m(s,l),O(s,e,l),i=!0},p(s,[l]){s[7]?n?(n.p(s,l),l&128&&C(n,1)):(n=Rt(s),n.c(),C(n,1),n.m(e.parentNode,e)):n&&(ne(),k(n,1,1,()=>{n=null}),se())},i(s){i||(C(n),i=!0)},o(s){k(n),i=!1},d(s){n&&n.d(s),s&&w(e)}}}function Ge(t,e){return`--row:${e};--column:${t}`}function $i(t,e,i){let n,s,l,r,o,c,f,u,a,{id:m}=e,{slot:d}=e,{game:g}=e;function p(_){if(d.type===z.CELL){const M=+_[3]+1,L=+_[1]+1;return Ge(M,L)}if(d.type===z.ROW){const L=+_[1]+1;return Ge(7,L)}if(d.type===z.COLUMN){const M=+_[1]+1;return Ge(M,7)}if(_==="DL")return Ge(1,7);if(_==="DR")return Ge(7,7)}function b(){(!u||!d.oneWay)&&A("command-toggle-slot",d.address)}function T(_){Ie.call(this,t,_)}return t.$$set=_=>{"id"in _&&i(10,m=_.id),"slot"in _&&i(0,d=_.slot),"game"in _&&i(1,g=_.game)},t.$$.update=()=>{var _;t.$$.dirty&2&&i(12,n=(_=g==null?void 0:g.state)==null?void 0:_.tables),t.$$.dirty&4097&&i(11,s=n==null?void 0:n[d.address]),t.$$.dirty&1024&&i(8,l=p(m)),t.$$.dirty&2048&&i(7,r=s&P.VISIBLE),t.$$.dirty&2048&&i(6,o=s&P.PREREQUISITES_MET),t.$$.dirty&2048&&i(5,c=(s&P.UNLOCKABLE)===P.UNLOCKABLE),t.$$.dirty&2048&&i(4,f=s&P.UNLOCKED),t.$$.dirty&2048&&i(2,u=s&P.ENABLED),t.$$.dirty&1&&i(3,a=d.type===z.CELL)},[d,g,u,a,f,c,o,r,l,b,m,s,n,T]}class en extends H{constructor(e){super(),K(this,e,$i,xi,j,{id:10,slot:0,game:1})}}function St(t,e,i){const n=t.slice();return n[6]=e[i][0],n[7]=e[i][1],n}function At(t){var lt;let e,i,n,s,l=((lt=t[2])==null?void 0:lt.name)+"",r,o,c,f,u,a,m,d,g,p,b,T,_,M,L,W,Z,I,ue,$,le,F,y,B,te,ie,De,Ne,Ee=t[3],X=[];for(let Q=0;Q<Ee.length;Q+=1)X[Q]=qt(St(t,Ee,Q));const Vt=Q=>k(X[Q],1,1,()=>{X[Q]=null});return{c(){e=E("div"),i=E("div"),n=V(t[1]),s=V(": "),r=V(l),o=N(),c=E("div"),f=N(),u=E("div"),a=E("div"),m=N(),d=E("div"),d.textContent="R1",g=N(),p=E("div"),p.textContent="R2",b=N(),T=E("div"),T.textContent="R3",_=N(),M=E("div"),M.textContent="R4",L=N(),W=E("div"),W.textContent="R5",Z=N(),I=E("div"),I.textContent="C1",ue=N(),$=E("div"),$.textContent="C2",le=N(),F=E("div"),F.textContent="C3",y=N(),B=E("div"),B.textContent="C4",te=N(),ie=E("div"),ie.textContent="C5",De=N();for(let Q=0;Q<X.length;Q+=1)X[Q].c();v(i,"class","id svelte-11kc1fn"),v(c,"class","spacer svelte-11kc1fn"),v(a,"class","highlight svelte-11kc1fn"),v(d,"class","row-header svelte-11kc1fn"),D(d,"grid-row","2"),v(p,"class","row-header svelte-11kc1fn"),D(p,"grid-row","3"),v(T,"class","row-header svelte-11kc1fn"),D(T,"grid-row","4"),v(M,"class","row-header svelte-11kc1fn"),D(M,"grid-row","5"),v(W,"class","row-header svelte-11kc1fn"),D(W,"grid-row","6"),v(I,"class","column-header svelte-11kc1fn"),D(I,"grid-column","2"),v($,"class","column-header svelte-11kc1fn"),D($,"grid-column","3"),v(F,"class","column-header svelte-11kc1fn"),D(F,"grid-column","4"),v(B,"class","column-header svelte-11kc1fn"),D(B,"grid-column","5"),v(ie,"class","column-header svelte-11kc1fn"),D(ie,"grid-column","6"),v(u,"class","table svelte-11kc1fn"),v(e,"class","data svelte-11kc1fn")},m(Q,oe){O(Q,e,oe),h(e,i),h(i,n),h(i,s),h(i,r),h(e,o),h(e,c),h(e,f),h(e,u),h(u,a),h(u,m),h(u,d),h(u,g),h(u,p),h(u,b),h(u,T),h(u,_),h(u,M),h(u,L),h(u,W),h(u,Z),h(u,I),h(u,ue),h(u,$),h(u,le),h(u,F),h(u,y),h(u,B),h(u,te),h(u,ie),h(u,De);for(let Ce=0;Ce<X.length;Ce+=1)X[Ce]&&X[Ce].m(u,null);Ne=!0},p(Q,oe){var Ce;if((!Ne||oe&2)&&ee(n,Q[1]),(!Ne||oe&4)&&l!==(l=((Ce=Q[2])==null?void 0:Ce.name)+"")&&ee(r,l),oe&9){Ee=Q[3];let re;for(re=0;re<Ee.length;re+=1){const rt=St(Q,Ee,re);X[re]?(X[re].p(rt,oe),C(X[re],1)):(X[re]=qt(rt),X[re].c(),C(X[re],1),X[re].m(u,null))}for(ne(),re=Ee.length;re<X.length;re+=1)Vt(re);se()}},i(Q){if(!Ne){for(let oe=0;oe<Ee.length;oe+=1)C(X[oe]);Ne=!0}},o(Q){X=X.filter(Boolean);for(let oe=0;oe<X.length;oe+=1)k(X[oe]);Ne=!1},d(Q){Q&&w(e),ve(X,Q)}}}function qt(t){let e,i;return e=new en({props:{game:t[0],id:t[6],slot:t[7]}}),{c(){x(e.$$.fragment)},m(n,s){Y(e,n,s),i=!0},p(n,s){const l={};s&1&&(l.game=n[0]),s&8&&(l.id=n[6]),s&8&&(l.slot=n[7]),e.$set(l)},i(n){i||(C(e.$$.fragment,n),i=!0)},o(n){k(e.$$.fragment,n),i=!1},d(n){J(e,n)}}}function tn(t){let e,i,n=t[2]&&At(t);return{c(){e=E("div"),n&&n.c(),v(e,"class","visible container svelte-11kc1fn"),D(e,"--ui-slot",t[4]),R(e,"ready",t[5])},m(s,l){O(s,e,l),n&&n.m(e,null),i=!0},p(s,[l]){s[2]?n?(n.p(s,l),l&4&&C(n,1)):(n=At(s),n.c(),C(n,1),n.m(e,null)):n&&(ne(),k(n,1,1,()=>{n=null}),se()),(!i||l&16)&&D(e,"--ui-slot",s[4]),(!i||l&32)&&R(e,"ready",s[5])},i(s){i||(C(n),i=!0)},o(s){k(n),i=!1},d(s){s&&w(e),n&&n.d()}}}function nn(t,e,i){let n,s,l,r,{game:o}=e,{id:c}=e;return t.$$set=f=>{"game"in f&&i(0,o=f.game),"id"in f&&i(1,c=f.id)},t.$$.update=()=>{var f,u,a;t.$$.dirty&2&&i(4,s=(u=(f=c==null?void 0:c.toLowerCase)==null?void 0:f.call(c))!=null?u:"none"),t.$$.dirty&2&&i(2,l=ze[c]),t.$$.dirty&4&&i(3,r=Object.entries((a=l==null?void 0:l.slots)!=null?a:{}))},i(5,n=!1),[o,c,l,r,s,n]}class Ke extends H{constructor(e){super(),K(this,e,nn,tn,j,{game:0,id:1})}}function sn(t){let e,i,n;return{c(){e=E("button"),e.textContent="Reset game",v(e,"class","svelte-1fiqzlu")},m(s,l){O(s,e,l),i||(n=me(e,"click",t[2]),i=!0)},p:q,i:q,o:q,d(s){s&&w(e),i=!1,n()}}}function ln(t,e,i){let{game:n}=e,{id:s}=e;const l=()=>confirm("Reset game?")&&A("command-reset-game");return t.$$set=r=>{"game"in r&&i(0,n=r.game),"id"in r&&i(1,s=r.id)},[n,s,l]}class rn extends H{constructor(e){super(),K(this,e,ln,sn,j,{game:0,id:1})}}function on(t){let e;return{c(){e=E("pre"),e.textContent=`| Code | Meaning                      |\r
|------|------------------------------|\r
| X    | value                        |\r
| Xt   | time since reset             |\r
| Xp   | prestige points              |\r
| dX   | change speed                 |\r
| dXp  | prestige points per prestige |\r
| pXc  | prestige cost fraction       |\r
| MX   | maximum value                |\r
| MX0  | initial maximum value        |\r
| MXm  | maximum value multiplier     |\r
\r
## Special\r
\r
| Code | Meaning                      |\r
|------|------------------------------|\r
| SN   | Unlocked slot count          |\r
| cN   | Unlocked cell slot count     |\r
| RN   | Unlocked row slot count      |\r
| CN   | Unlocked column slot count   |\r
| DN   | Unlocked diagonal slot count |\r
| LN   | Unlocked line slot count     |\r
\r
# Tables\r
\r
Table, row and column numbers start from 1\r
\r
| Code   | Meaning                         |\r
|--------|---------------------------------|\r
| T#     | Table # / Whole table #         |\r
| T#R#   | Table # row #                   |\r
| T#C#   | Table # column #                |\r
| T#R#C# | Table # cell at row #, column # |\r
| T#DR   | Table # down-right diagonal     |\r
| T#DL   | Table # down-left diagonal      |\r
\r
`},m(i,n){O(i,e,n)},p:q,i:q,o:q,d(i){i&&w(e)}}}function un(t,e,i){let{game:n}=e,{id:s}=e;return t.$$set=l=>{"game"in l&&i(0,n=l.game),"id"in l&&i(1,s=l.id)},[n,s]}class fn extends H{constructor(e){super(),K(this,e,un,on,j,{game:0,id:1})}}function cn(t){let e;return{c(){e=E("div"),e.textContent=`You can long-tap / right-click value tab to prestige capped value without visiting tab.\r
\r
    Resetting value allows to fulfil some conditions, and has no other benefits.`,v(e,"class","help svelte-9oq188")},m(i,n){O(i,e,n)},p:q,i:q,o:q,d(i){i&&w(e)}}}function an(t,e,i){let{game:n}=e,{id:s}=e;return t.$$set=l=>{"game"in l&&i(0,n=l.game),"id"in l&&i(1,s=l.id)},[n,s]}class dn extends H{constructor(e){super(),K(this,e,an,cn,j,{game:0,id:1})}}function mn(t){let e,i,n,s,l,r,o;return{c(){e=E("div"),i=E("div"),n=N(),s=E("div"),l=N(),r=E("div"),o=V(t[0]),v(i,"class","bg svelte-12dr9z"),v(s,"class","fg svelte-12dr9z"),v(r,"class","caption svelte-12dr9z"),v(e,"class","bar svelte-12dr9z"),D(e,"--progress",t[3]+"%"),D(e,"--fgcolor",t[2]),D(e,"--bgcolor",t[1])},m(c,f){O(c,e,f),h(e,i),h(e,n),h(e,s),h(e,l),h(e,r),h(r,o)},p(c,[f]){f&1&&ee(o,c[0]),f&8&&D(e,"--progress",c[3]+"%"),f&4&&D(e,"--fgcolor",c[2]),f&2&&D(e,"--bgcolor",c[1])},i:q,o:q,d(c){c&&w(e)}}}function gn(t,e,i){let n,{max:s=100}=e,{current:l=0}=e,{caption:r=""}=e,{bgcolor:o="#333333"}=e,{fgcolor:c="#666666"}=e;return t.$$set=f=>{"max"in f&&i(4,s=f.max),"current"in f&&i(5,l=f.current),"caption"in f&&i(0,r=f.caption),"bgcolor"in f&&i(1,o=f.bgcolor),"fgcolor"in f&&i(2,c=f.fgcolor)},t.$$.update=()=>{t.$$.dirty&48&&i(3,n=(100*l/s).toFixed(2))},[r,o,c,n,s,l]}class _n extends H{constructor(e){super(),K(this,e,gn,mn,j,{max:4,current:5,caption:0,bgcolor:1,fgcolor:2})}}function Tt(t){let e,i,n,s,l,r,o,c,f,u,a=G`${t[3]}`+"",m,d,g,p,b,T=G`${t[2]}`+"",_,M,L,W,Z,I=G`${t[5]}`+"",ue,$,le,F;return i=new _n({props:{max:t[2],current:t[3],bgcolor:"inherit",fgcolor:Ze[t[0]]}}),{c(){e=E("div"),x(i.$$.fragment),n=N(),s=E("div"),l=E("div"),r=V(t[0]),o=N(),c=E("div"),f=N(),u=E("div"),m=V(a),d=N(),g=E("div"),p=N(),b=E("div"),_=V(T),M=N(),L=E("div"),W=N(),Z=E("div"),ue=V(I),v(e,"class","bar svelte-15oul1l"),v(l,"class","id svelte-15oul1l"),v(c,"class","spacer svelte-15oul1l"),v(u,"class","current value svelte-15oul1l"),v(g,"class","line svelte-15oul1l"),v(b,"class","max value svelte-15oul1l"),v(L,"class","spacer svelte-15oul1l"),v(Z,"class","prestiges value svelte-15oul1l"),v(s,"class","data svelte-15oul1l")},m(y,B){O(y,e,B),Y(i,e,null),O(y,n,B),O(y,s,B),h(s,l),h(l,r),h(s,o),h(s,c),h(s,f),h(s,u),h(u,m),h(s,d),h(s,g),h(s,p),h(s,b),h(b,_),h(s,M),h(s,L),h(s,W),h(s,Z),h(Z,ue),$=!0,le||(F=[Te(Ue.call(null,s)),me(s,"basicaction",t[10]),me(s,"specialaction",t[8])],le=!0)},p(y,B){const te={};B&4&&(te.max=y[2]),B&8&&(te.current=y[3]),B&1&&(te.fgcolor=Ze[y[0]]),i.$set(te),(!$||B&1)&&ee(r,y[0]),(!$||B&8)&&a!==(a=G`${y[3]}`+"")&&ee(m,a),(!$||B&4)&&T!==(T=G`${y[2]}`+"")&&ee(_,T),(!$||B&32)&&I!==(I=G`${y[5]}`+"")&&ee(ue,I)},i(y){$||(C(i.$$.fragment,y),$=!0)},o(y){k(i.$$.fragment,y),$=!1},d(y){y&&w(e),J(i),y&&w(n),y&&w(s),le=!1,he(F)}}}function hn(t){let e,i,n=t[6]&&Tt(t);return{c(){e=E("div"),n&&n.c(),v(e,"class","container svelte-15oul1l"),D(e,"--ui-slot",t[7]),R(e,"visible",t[6]),R(e,"ready",t[4]),R(e,"active",t[1])},m(s,l){O(s,e,l),n&&n.m(e,null),i=!0},p(s,[l]){s[6]?n?(n.p(s,l),l&64&&C(n,1)):(n=Tt(s),n.c(),C(n,1),n.m(e,null)):n&&(ne(),k(n,1,1,()=>{n=null}),se()),(!i||l&128)&&D(e,"--ui-slot",s[7]),(!i||l&64)&&R(e,"visible",s[6]),(!i||l&16)&&R(e,"ready",s[4]),(!i||l&2)&&R(e,"active",s[1])},i(s){i||(C(n),i=!0)},o(s){k(n),i=!1},d(s){s&&w(e),n&&n.d()}}}function bn(t,e,i){let n,s,l,r,o,c,{game:f}=e,{id:u}=e,{active:a=!1}=e;function m(){c&&A("command-prestige-value",u)}function d(g){Ie.call(this,t,g)}return t.$$set=g=>{"game"in g&&i(9,f=g.game),"id"in g&&i(0,u=g.id),"active"in g&&i(1,a=g.active)},t.$$.update=()=>{var g,p,b,T,_,M,L,W,Z,I;t.$$.dirty&1&&i(7,n=(p=(g=u==null?void 0:u.toLowerCase)==null?void 0:g.call(u))!=null?p:"none"),t.$$.dirty&513&&i(6,s=(T=(b=f==null?void 0:f.state)==null?void 0:b.values)==null?void 0:T[`${u}seen`]),t.$$.dirty&513&&i(3,l=(M=(_=f==null?void 0:f.state)==null?void 0:_.values)==null?void 0:M[u]),t.$$.dirty&513&&i(2,r=(W=(L=f==null?void 0:f.state)==null?void 0:L.values)==null?void 0:W[`M${u}`]),t.$$.dirty&513&&i(5,o=(I=(Z=f==null?void 0:f.state)==null?void 0:Z.values)==null?void 0:I[`${u}p`]),t.$$.dirty&12&&i(4,c=l>=r)},[u,a,r,l,c,o,s,n,m,f,d]}class we extends H{constructor(e){super(),K(this,e,bn,hn,j,{game:9,id:0,active:1})}}function It(t,e,i){const n=t.slice();return n[10]=e[i],n[12]=i,n}function Ut(t){let e=t[2],i,n,s=jt(t);return{c(){s.c(),i=fe()},m(l,r){s.m(l,r),O(l,i,r),n=!0},p(l,r){r&4&&j(e,e=l[2])?(ne(),k(s,1,1,q),se(),s=jt(l),s.c(),C(s,1),s.m(i.parentNode,i)):s.p(l,r)},i(l){n||(C(s),n=!0)},o(l){k(s),n=!1},d(l){l&&w(i),s.d(l)}}}function Dt(t){let e,i,n;var s=t[5].maxi;function l(r){return{props:{game:r[0],id:r[5].id}}}return s&&(e=Ye(s,l(t))),{c(){e&&x(e.$$.fragment),i=fe()},m(r,o){e&&Y(e,r,o),O(r,i,o),n=!0},p(r,o){const c={};if(o&1&&(c.game=r[0]),o&32&&(c.id=r[5].id),o&32&&s!==(s=r[5].maxi)){if(e){ne();const f=e;k(f.$$.fragment,1,0,()=>{J(f,1)}),se()}s?(e=Ye(s,l(r)),x(e.$$.fragment),C(e.$$.fragment,1),Y(e,i.parentNode,i)):e=null}else s&&e.$set(c)},i(r){n||(e&&C(e.$$.fragment,r),n=!0)},o(r){e&&k(e.$$.fragment,r),n=!1},d(r){r&&w(i),e&&J(e,r)}}}function Bt(t){let e,i,n;function s(){return t[9](t[12])}var l=t[10].mini;function r(o){return{props:{game:o[0],id:o[10].id,active:o[1]===o[12]}}}return l&&(e=Ye(l,r(t)),e.$on("basicaction",s)),{c(){e&&x(e.$$.fragment),i=fe()},m(o,c){e&&Y(e,o,c),O(o,i,c),n=!0},p(o,c){t=o;const f={};if(c&1&&(f.game=t[0]),c&2&&(f.active=t[1]===t[12]),l!==(l=t[10].mini)){if(e){ne();const u=e;k(u.$$.fragment,1,0,()=>{J(u,1)}),se()}l?(e=Ye(l,r(t)),e.$on("basicaction",s),x(e.$$.fragment),C(e.$$.fragment,1),Y(e,i.parentNode,i)):e=null}else l&&e.$set(f)},i(o){n||(e&&C(e.$$.fragment,o),n=!0)},o(o){e&&k(e.$$.fragment,o),n=!1},d(o){o&&w(i),e&&J(e,o)}}}function jt(t){let e,i,n,s=t[1],l,r,o=Dt(t),c=t[6],f=[];for(let a=0;a<c.length;a+=1)f[a]=Bt(It(t,c,a));const u=a=>k(f[a],1,1,()=>{f[a]=null});return{c(){e=E("div"),i=E("div"),n=E("div"),o.c(),l=N();for(let a=0;a<f.length;a+=1)f[a].c();v(n,"class","main element svelte-oxihkz"),v(i,"class","layout svelte-oxihkz"),v(e,"class","holder svelte-oxihkz")},m(a,m){O(a,e,m),h(e,i),h(i,n),o.m(n,null),h(i,l);for(let d=0;d<f.length;d+=1)f[d]&&f[d].m(i,null);r=!0},p(a,m){if(m&2&&j(s,s=a[1])?(ne(),k(o,1,1,q),se(),o=Dt(a),o.c(),C(o,1),o.m(n,null)):o.p(a,m),m&195){c=a[6];let d;for(d=0;d<c.length;d+=1){const g=It(a,c,d);f[d]?(f[d].p(g,m),C(f[d],1)):(f[d]=Bt(g),f[d].c(),C(f[d],1),f[d].m(i,null))}for(ne(),d=c.length;d<f.length;d+=1)u(d);se()}},i(a){if(!r){C(o);for(let m=0;m<c.length;m+=1)C(f[m]);r=!0}},o(a){k(o),f=f.filter(Boolean);for(let m=0;m<f.length;m+=1)k(f[m]);r=!1},d(a){a&&w(e),o.d(a),ve(f,a)}}}function pn(t){let e,i,n,s;Je(t[8]);let l=t[0]&&Ut(t);return{c(){l&&l.c(),e=fe()},m(r,o){l&&l.m(r,o),O(r,e,o),i=!0,n||(s=me(window,"resize",t[8]),n=!0)},p(r,[o]){r[0]?l?(l.p(r,o),o&1&&C(l,1)):(l=Ut(r),l.c(),C(l,1),l.m(e.parentNode,e)):l&&(ne(),k(l,1,1,()=>{l=null}),se())},i(r){i||(C(l),i=!0)},o(r){k(l),i=!1},d(r){l&&l.d(r),r&&w(e),n=!1,s()}}}function vn(t,e,i){let n,s,{game:l}=e,r;const o=[{mini:we,maxi:et,id:"A"},{mini:we,maxi:et,id:"B"},{mini:we,maxi:et,id:"C"},{mini:we,maxi:tt,id:"AB"},{mini:we,maxi:tt,id:"AC"},{mini:we,maxi:tt,id:"BC"},{mini:we,maxi:Bi,id:"ABC"},{mini:Pe,maxi:Ke,id:"T1"},{mini:Pe,maxi:Ke,id:"T2"},{mini:Pe,maxi:Ke,id:"T3"},{mini:Pe,maxi:Ke,id:"T4"},{mini:Pe,maxi:Ke,id:"T5"},{mini:$e,maxi:fn,id:"CODE"},{mini:$e,maxi:dn,id:"HELP"},{mini:$e,maxi:rn,id:"MENU"}];let c=100,f=100;function u(d){A("command-set-tab",d)}function a(){i(3,c=window.innerWidth),i(4,f=window.innerHeight)}const m=d=>u(d);return t.$$set=d=>{"game"in d&&i(0,l=d.game)},t.$$.update=()=>{var d,g;t.$$.dirty&1&&i(2,r=l.id),t.$$.dirty&1&&i(1,n=(g=(d=l==null?void 0:l.state)==null?void 0:d.tab)!=null?g:0),t.$$.dirty&2&&i(5,s=o[n])},[l,n,r,c,f,s,o,u,a,m]}class En extends H{constructor(e){super(),K(this,e,vn,pn,j,{game:0})}}function Pt(t){let e,i,n,s;return e=new En({props:{game:t[0]}}),n=new Ci({props:{game:t[0]}}),{c(){x(e.$$.fragment),i=N(),x(n.$$.fragment)},m(l,r){Y(e,l,r),O(l,i,r),Y(n,l,r),s=!0},p(l,r){const o={};r&1&&(o.game=l[0]),e.$set(o);const c={};r&1&&(c.game=l[0]),n.$set(c)},i(l){s||(C(e.$$.fragment,l),C(n.$$.fragment,l),s=!0)},o(l){k(e.$$.fragment,l),k(n.$$.fragment,l),s=!1},d(l){J(e,l),l&&w(i),J(n,l)}}}function Cn(t){var l;let e,i,n,s=((l=t[0])==null?void 0:l.state)&&Pt(t);return{c(){e=N(),s&&s.c(),i=fe()},m(r,o){O(r,e,o),s&&s.m(r,o),O(r,i,o),n=!0},p(r,[o]){var c;(c=r[0])!=null&&c.state?s?(s.p(r,o),o&1&&C(s,1)):(s=Pt(r),s.c(),C(s,1),s.m(i.parentNode,i)):s&&(ne(),k(s,1,1,()=>{s=null}),se())},i(r){n||(C(s),n=!0)},o(r){k(s),n=!1},d(r){r&&w(e),s&&s.d(r),r&&w(i)}}}function Ln(t,e,i){let{game:n}=e;return t.$$set=s=>{"game"in s&&i(0,n=s.game)},[n]}class yn extends H{constructor(e){super(),K(this,e,Ln,Cn,j,{game:0})}}function kn(t,e,i){let{rate:n=60}=e,{boost:s=1}=e,{event:l="command-tick"}=e,r=null,o=performance.now();function c(u,a){r&&clearInterval(r),r=setInterval(f,1e3/u)}function f(){const u=performance.now(),a=(u-o)/1e3,m=a*s;A(l,m,+s,a),o=u}return pe(()=>{clearInterval(r)}),t.$$set=u=>{"rate"in u&&i(0,n=u.rate),"boost"in u&&i(1,s=u.boost),"event"in u&&i(2,l=u.event)},t.$$.update=()=>{t.$$.dirty&1&&c(n)},[n,s,l]}class wn extends H{constructor(e){super(),K(this,e,kn,null,j,{rate:0,boost:1,event:2})}}function Mn(t){let e,i,n,s,l,r,o;function c(u){t[1](u)}let f={};return t[0]!==void 0&&(f.game=t[0]),e=new pi({props:f}),de.push(()=>_e(e,"game",c)),s=new yn({props:{game:t[0]}}),r=new wn({props:{rate:"10",boost:"1",event:"command-tick"}}),{c(){x(e.$$.fragment),n=N(),x(s.$$.fragment),l=N(),x(r.$$.fragment)},m(u,a){Y(e,u,a),O(u,n,a),Y(s,u,a),O(u,l,a),Y(r,u,a),o=!0},p(u,[a]){const m={};!i&&a&1&&(i=!0,m.game=u[0],ge(()=>i=!1)),e.$set(m);const d={};a&1&&(d.game=u[0]),s.$set(d)},i(u){o||(C(e.$$.fragment,u),C(s.$$.fragment,u),C(r.$$.fragment,u),o=!0)},o(u){k(e.$$.fragment,u),k(s.$$.fragment,u),k(r.$$.fragment,u),o=!1},d(u){J(e,u),u&&w(n),J(s,u),u&&w(l),J(r,u)}}}function On(t,e,i){let n={};function s(l){n=l,i(0,n)}return[n,s]}class Nn extends H{constructor(e){super(),K(this,e,On,Mn,j,{})}}new Nn({target:document.getElementById("app")});
